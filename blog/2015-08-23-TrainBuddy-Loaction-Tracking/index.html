<!DOCTYPE html>
<html>
<head>
    <title>TrainBuddy Loaction Tracking - Kasun Gamlath</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <script data-goatcounter="https://kasun.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
    <noscript>
    	<img src="https://MYCODE.goatcounter.com/count?p=/test-noscript">
    </noscript>
</head>

<body id="TrainBuddy-Loaction-Tracking">

<nav>
<section>
    <span class="home">
        <a href="/">Home</a>
    </span>
    <span class="links">
        <a href="/blog/">Blog</a>
        <a href="/garden.html">Garden</a>
        <a href="/photos/">Photos</a>
        <a href="/books.html">Books</a>
        <!-- <a href="/projects.html">Projects</a> -->
    </span>
</section>
</nav>

<main>
<article>
<h1><a href="/blog/TrainBuddy-Loaction-Tracking/">TrainBuddy Loaction Tracking</a></h1>
<p class="meta">Published on 2015-08-23</p>
<p>Just before the end of semester vacation I released a beta of train buddy with location tracking service. Once a user started it through the train map screen it'll access the location data of the device and will post them to the back-end once every predefined time interval.</p>
<p>For now it only posts latitude, longitude and user set destination code to the back-end. So the data is anonymous. Nothing is posted to link the location with the one who is reporting it. Also the data is not persistent in the back-end. While the service is running the same data record will be updated per user. And when the service is stopped that record will be deleted. So the data isn't historical and at the given time only the real time data is kept in back-end. Users can get these data from the train map screen. It will display as one marker per one location reported with the destination code as the title.</p>
<p><img src="/assets/location_tracking.png" alt="" /></p>
<p>For the service to post the location updates to the back-end both location and data connection should be active in the device. So this will cause a battery drain to some extent. I calculated 15% of battery level reduction with constantly running the service for one and half hours in a session. and when the signal reception is low the device get heated because the device radio is constantly trying to receive the signals. I think the battery drain and the heating issue can be reduced by fine tunning the interval of posting the data. It posts once per every 5 seconds in the current configuration. I only tested the system with only two devices. So have no idea how the system will work with multiple devices reporting the location at once.</p>
<p>Then there is also problem of getting locations when in middle of the train. Because GPS doesn't work well in indoors. It works great near doors and windows but in the middle of the train it struggles to connect to the GPS.</p>
<p>I'm hopping to release a production version once those kinks got sorted out. So guys you'll be able to stalk the trains in near future.</p>
<p>I also added push notifications in the beta version. it will be used for emergency notifications which is still being implemented.</p>
<p>Get the Beta from <a href="https://play.google.com/apps/testing/com.kasungamlath.trainbuddy">Google Play</a></p>
<p>UPDATE :It seems OK with reporting multiple locations.</p>

</article>

</main>


</body>
</html>
